"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__importDefault(require("react")),mobx_react_lite_1=require("mobx-react-lite");require("mobx-react-lite/batchingForReactDom");var page_1=__importDefault(require("./page")),MIN_PADDING=20;exports.default=mobx_react_lite_1.observer((function(e){var t=e.store,i=react_1.default.useState({width:100,height:100}),r=i[0],a=i[1],u=react_1.default.useRef(null),h=function(){if(null!==u.current){var e=u.current.getBoundingClientRect();a({width:e.width,height:e.height});var i=(e.width-2*MIN_PADDING)/t.width,r=(e.height-2*MIN_PADDING)/t.height;t.setScale(Math.min(i,r))}};react_1.default.useEffect(h,[t.width,t.height]),react_1.default.useEffect((function(){return window.addEventListener("resize",h),function(){return window.removeEventListener("resize",h)}}),[]);var l=Math.max(MIN_PADDING,(r.width-t.width*t.scale)/2),n=Math.max(MIN_PADDING,(r.height-t.height*t.scale)/2);return react_1.default.createElement("div",{ref:u,style:{width:"100%",height:"100%",position:"relative"}},react_1.default.createElement("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"auto"}},t.pages.map((function(e){return react_1.default.createElement(page_1.default,{key:e.id,page:e,xPadding:l,yPadding:n,width:t.width*t.scale+2*l,height:t.height*t.scale+2*n,store:t})}))))}));