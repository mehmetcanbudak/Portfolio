"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},__importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__importDefault(require("react")),mobx_react_lite_1=require("mobx-react-lite"),core_1=require("@blueprintjs/core"),select_1=require("@blueprintjs/select"),fonts_1=require("../utils/fonts"),color_picker_1=__importDefault(require("./color-picker")),filters_picker_1=__importDefault(require("./filters-picker")),ALIGN_OPTIONS=["left","center","right","justify"],FontOption=function(e){return react_1.default.useEffect((function(){fonts_1.loadFont(e.text)}),[]),react_1.default.createElement(core_1.MenuItem,__assign({},e))};exports.default=mobx_react_lite_1.observer((function(e){var t=e.store.selectedElements[0];return react_1.default.createElement(core_1.Navbar.Group,{align:core_1.Alignment.LEFT},react_1.default.createElement(select_1.Select,{items:fonts_1.getFontsList(),itemRenderer:function(e,t){var n=t.handleClick,i=t.modifiers;t.query;return react_1.default.createElement(FontOption,{key:e,text:e,active:i.active,disabled:i.disabled,onClick:n,style:{fontFamily:e}})},activeItem:t.fontFamily,onItemSelect:function(e){t.set({fontFamily:e})}},react_1.default.createElement(core_1.Button,{text:t.fontFamily,rightIcon:"caret-down",minimal:!0,style:{marginRight:"5px",fontFamily:t.fontFamily}})),react_1.default.createElement(core_1.NumericInput,{onValueChange:function(e){t.set({fontSize:e})},value:Math.round(t.fontSize),style:{width:"50px"},min:5}),react_1.default.createElement(core_1.ButtonGroup,null,react_1.default.createElement(core_1.Button,{minimal:!0,icon:"align-"+t.align,onClick:function(){var e=(ALIGN_OPTIONS.indexOf(t.align)+1+ALIGN_OPTIONS.length)%ALIGN_OPTIONS.length,n=ALIGN_OPTIONS[e];t.set({align:n})}}),react_1.default.createElement(core_1.Button,{minimal:!0,icon:"bold",active:t.fontStyle.indexOf("bold")>=0,onClick:function(){var e=t.fontStyle.split(" ");e.indexOf("bold")>=0?e=e.filter((function(e){return"bold"!==e})):e.push("bold"),t.set({fontStyle:e.join(" ")})}}),react_1.default.createElement(core_1.Button,{minimal:!0,icon:"italic",active:t.fontStyle.indexOf("italic")>=0,onClick:function(){var e=t.fontStyle.split(" ");e.indexOf("italic")>=0?e=e.filter((function(e){return"italic"!==e})):e.push("italic"),t.set({fontStyle:e.join(" ")})}}),react_1.default.createElement(core_1.Button,{minimal:!0,icon:"underline",active:t.textDecoration.indexOf("underline")>=0,onClick:function(){var e=t.textDecoration.split(" ");e.indexOf("underline")>=0?e=e.filter((function(e){return"underline"!==e})):e.push("underline"),t.set({textDecoration:e.join(" ")})}}),react_1.default.createElement(filters_picker_1.default,{element:t})),react_1.default.createElement(color_picker_1.default,{value:t.fill,onChange:function(e){return t.set({fill:e})}}))}));