"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__importDefault(require("react")),mobx_react_lite_1=require("mobx-react-lite"),core_1=require("@blueprintjs/core"),text_toolbar_1=__importDefault(require("./text-toolbar")),image_toolbar_1=__importDefault(require("./image-toolbar")),svg_toolbar_1=__importDefault(require("./svg-toolbar"));exports.default=mobx_react_lite_1.observer((function(e){var t,a=e.store,r=1===a.selectedElements.length,n=a.selectedElements[0],o=r&&"text"===n.type,l=r&&"image"===n.type,c=r&&"svg"===n.type,i=(a.selectedElements.length,(null===(t=a.activePage)||void 0===t?void 0:t.children.indexOf(n))||0),u=a.activePage&&i<a.activePage.children.length-1,_=i>0;return react_1.default.createElement(core_1.Navbar,null,react_1.default.createElement(core_1.Navbar.Group,{align:core_1.Alignment.LEFT},react_1.default.createElement(core_1.Button,{icon:"undo",minimal:!0,onClick:function(){a.history.undo()},disabled:!a.history.canUndo}),react_1.default.createElement(core_1.Button,{icon:"redo",minimal:!0,onClick:function(){a.history.redo()},disabled:!a.history.canRedo}),react_1.default.createElement(core_1.Divider,{style:{height:"100%",margin:"0 15px"}})),r&&react_1.default.createElement(core_1.Navbar.Group,{align:core_1.Alignment.LEFT,style:{marginRight:"15px"}},react_1.default.createElement(core_1.Popover,{content:react_1.default.createElement(core_1.Menu,null,react_1.default.createElement(core_1.MenuItem,{icon:"chevron-up",text:"Up",disabled:!u,onClick:function(){n.moveUp()}}),react_1.default.createElement(core_1.MenuItem,{icon:"chevron-down",text:"Down",disabled:!_,onClick:function(){n.moveDown()}}),react_1.default.createElement(core_1.MenuItem,{icon:"alignment-top",text:"Align top",onClick:function(){n.set({y:0})}}),react_1.default.createElement(core_1.MenuItem,{icon:"alignment-left",text:"Align left",onClick:function(){n.set({x:0})}}),react_1.default.createElement(core_1.MenuItem,{icon:"alignment-right",text:"Align rigth",onClick:function(){n.set({x:a.width-n.width})}})),position:core_1.Position.BOTTOM},react_1.default.createElement(core_1.Button,{icon:"move",minimal:!0}))),o&&react_1.default.createElement(text_toolbar_1.default,{store:a}),l&&react_1.default.createElement(image_toolbar_1.default,{store:a}),c&&react_1.default.createElement(svg_toolbar_1.default,{store:a}),react_1.default.createElement(core_1.Navbar.Group,{align:core_1.Alignment.RIGHT},react_1.default.createElement(core_1.Button,{icon:"trash",minimal:!0,onClick:function(){a.deleteElements(a.selectedElementsIds)},disabled:0===a.selectedElementsIds.length,style:{marginLeft:"auto"}}),react_1.default.createElement(core_1.Divider,{style:{height:"100%",margin:"0 15px"}}),react_1.default.createElement(core_1.Popover,{content:react_1.default.createElement(core_1.Menu,null,react_1.default.createElement(core_1.MenuItem,{icon:"media",text:"Save as Image",onClick:function(){a.saveAsImage()}}),react_1.default.createElement(core_1.MenuItem,{icon:"document",text:"Save as PDF",onClick:function(){a.saveAsPDF()}}),react_1.default.createElement(core_1.MenuItem,{icon:"document",text:"Save as High Quality PDF",onClick:function(){a.saveAsPDF({pixelRatio:3})}})),position:core_1.Position.BOTTOM},react_1.default.createElement(core_1.Button,{icon:"export",text:"Export",minimal:!0}))))}));